{"version":3,"file":"chartist-plugin-vertical-line.min.js","sources":["chartist-plugin-vertical-line.js"],"names":["root","factory","define","amd","returnExportsGlobal","exports","module","this","window","document","Chartist","defaultOptions","position","undefined","label","className","VerticalLine","chart","chartRect","options","labelClassName","$label","$","length","appendTo","container","hide","show","x","html","css","left","width","svg","elem","x1","x2","y1","y2","height","plugins","verticalLine","extend","Line","on","index","data","labels","indexOf","type"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,UAAW,WACT,MAAQF,GAAKI,oBAAsBH,MAET,gBAAZI,SAIhBC,OAAOD,QAAUJ,IAEjBD,EAAK,iCAAmCC,KAE1CM,KAAM,WAiFN,MA1EC,UAAUC,EAAQC,EAAUC,GAC3B,YAEA,IAAIC,IACFC,SAAUC,OACVC,MAAOD,OACPE,UAAW,iBAGTC,EAAe,SAAUC,EAAOC,EAAWC,GAE7C,GAAIC,GAAiBD,EAAQJ,UAAY,SACrCM,EAASC,EAAE,IAAMF,EAEhBC,GAAOE,SACVF,EAASC,EAAE,gBAAkBF,EAAiB,wCAC3CI,SAASP,EAAMQ,YAGpBH,EAAE,IAAMF,GAAgBM,OAExBnB,KAAKoB,KAAO,SAAUC,GAEpBP,EACGQ,KAAKV,EAAQL,OAAS,IACtBgB,KAAMC,KAAMH,EAAIP,EAAOW,QAAU,IACjCL,OAEHV,EAAMgB,IAAIC,KAAK,QACbC,GAAIP,EACJQ,GAAIR,EACJS,GAAInB,EAAUmB,GACdC,GAAIpB,EAAUoB,GAAKjB,EAAOkB,UACzBpB,EAAQJ,YAIfL,GAAS8B,QAAU9B,EAAS8B,YAC5B9B,EAAS8B,QAAQC,aAAe,SAAUtB,GAIxC,MAFAA,GAAUT,EAASgC,UAAW/B,EAAgBQ,GAEvC,SAAUF,GAEf,GAAMA,YAAiBP,GAASiC,KAAhC,CAIA,GAAI/B,KAEJK,GAAM2B,GAAG,OAAQ,WACfhC,EAASiC,MAAQ5B,EAAM6B,KAAKC,OAAOC,QAAQ7B,EAAQP,YAGrDK,EAAM2B,GAAG,OAAQ,SAAUE,GACF,KAAnBlC,EAASiC,OAA8B,UAAdC,EAAKG,MAAoBH,EAAKD,QAAUjC,EAASiC,QAC5EjC,EAASgB,EAAIkB,EAAKlB,KAItBX,EAAM2B,GAAG,UAAW,SAAUE,GAE5B,GAAuB,KAAnBlC,EAASiC,MAAb,CAIA,GAAIJ,GAAe,GAAIzB,GAAaC,EAAO6B,EAAK5B,UAAWC,EAC3DsB,GAAad,KAAKf,EAASgB,UAKjCpB,OAAQC,SAAUC,UAEbA,SAAS8B,QAAQC","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], function () {\n      return (root.returnExportsGlobal = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Chartist.plugins.verticalLine'] = factory();\n  }\n}(this, function () {\n\n  /**\r\n   * Chartist.js plugin to insert vertical line in a line chart.\r\n   *\r\n   */\r\n  /* global Chartist */\r\n  (function (window, document, Chartist) {\r\n    'use strict';\r\n\r\n    var defaultOptions = {\r\n      position: undefined,\r\n      label: undefined,\r\n      className: 'vertical-line'\r\n    };\r\n\r\n    var VerticalLine = function (chart, chartRect, options) {\r\n\r\n      var labelClassName = options.className + '-label';\r\n      var $label = $('.' + labelClassName);\r\n\r\n      if (!$label.length) {\r\n        $label = $('<span class=\"' + labelClassName + '\" style=\"position: absolute\"></span>')\r\n          .appendTo(chart.container);\r\n      }\r\n\r\n      $('.' + labelClassName).hide();\r\n\r\n      this.show = function (x) {\r\n\r\n        $label\r\n          .html(options.label || '')\r\n          .css({ left: x - $label.width() / 2 })\r\n          .show();\r\n\r\n        chart.svg.elem('line', {\r\n          x1: x,\r\n          x2: x,\r\n          y1: chartRect.y1,\r\n          y2: chartRect.y2 + $label.height()\r\n        }, options.className);\r\n      };\r\n    };\r\n\r\n    Chartist.plugins = Chartist.plugins || {};\r\n    Chartist.plugins.verticalLine = function (options) {\r\n\r\n      options = Chartist.extend({}, defaultOptions, options);\r\n\r\n      return function (chart) {\r\n\r\n        if (!(chart instanceof Chartist.Line)) {\r\n          return;\r\n        }\r\n\r\n        var position = {};\r\n\r\n        chart.on('data', function () {\r\n          position.index = chart.data.labels.indexOf(options.position);\r\n        });\r\n\r\n        chart.on('draw', function (data) {\r\n          if (position.index !== -1 && data.type === 'point' && data.index === position.index) {\r\n            position.x = data.x;\r\n          }\r\n        });\r\n\r\n        chart.on('created', function (data) {\r\n\r\n          if (position.index === -1) {\r\n            return;\r\n          }\r\n\r\n          var verticalLine = new VerticalLine(chart, data.chartRect, options);\r\n          verticalLine.show(position.x);\r\n        });\r\n      };\r\n    };\r\n\r\n  }(window, document, Chartist));\r\n\n  return Chartist.plugins.verticalLine;\n\n}));\n"]}